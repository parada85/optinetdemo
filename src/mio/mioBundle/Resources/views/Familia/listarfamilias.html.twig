{% extends 'miomioBundle:Default:index.html.twig' %}

{% block title %}
{% trans %}Listar familias{% endtrans %}
{% endblock %}

{% block body %}

<div id="titulo">{% trans %}Listar familias{% endtrans %}:</div>
    
{% if app.session.hasFlash('confirmacion') %}
    <div class="notificacion">
        <span>{{ app.session.flash('confirmacion') }}</span>
    </div>
{% endif %}

<table cellpadding="0" cellspacing="0" border="0" class="display" id="tablafamilia">
  <thead>
    <tr>
            <th class="th">{% trans %}Nombre{% endtrans %}</th>
				    <th>{% trans %}Productos{% endtrans %}</th>
            <th>{% trans %}Acciones{% endtrans %}</th>

    </tr>
  </thead>
  
  <tbody>
      {% for entity in entities %}

    <tr>
            <td>{{ entity.nombre }}</td>
            <td>{{ entity.getProductosfamilia().count() }}</td>
            <td><a class="botoneditar" href="{{ path('familia_edit', { 'id': entity.id }) }}">{% trans %}Editar{% endtrans %}</a>
              {% if entity.getProductosfamilia().count() != 0 %}
              <a id="{{entity.id}}" class="boton mostrarproductos">{% trans %}Productos{% endtrans %}</a>
              {% else %}
              <a id="{{entity.id}}" title="{% trans %}No existen productos en la familia{% endtrans %}" class="botondesactivado mostrarproductos">{% trans %}Productos{% endtrans %}</a>
              {% endif %}
            </td>
		</tr>
  {% endfor %}
  {% if contador > 0 %}
    <tr>
            <td>{%trans%}__**Sin familia**__{%endtrans%}</td>
            <td>{{ contador }}</td>
            <td><a id="0" class="boton mostrarproductos">{% trans %}Productos{% endtrans %}</a></td>
    </tr>
  {% endif %}
 </tbody>
 
 <tfoot>
		 <tr>
            <th>{% trans %}Nombre{% endtrans %}</th>
            <th>{% trans %}Productos{% endtrans %}</th>
            <th>{% trans %}Acciones{% endtrans %}</th>
    </tr>
	</tfoot>
	
 </table>

<div id="detalles1" title="{% trans %}Detalle{% endtrans %}">
  <p><span class="id ui-state-highlight ui-corner-all"></span></p>
 <table cellpadding="0" cellspacing="0" border="0" class="display tablamostrarproductos">
 <thead>
    <tr>
      <th class="th">{% trans %}Código{% endtrans %}</th>
      <th>{% trans %}Descripción{% endtrans %}</th>
      <th>{% trans %}Iva{% endtrans %}</th>
      <th>{% trans %}Precio compra{% endtrans %}</th>
      <th>{% trans %}Precio venta{% endtrans %}</th>
      <th>{% trans %}Stock{% endtrans %}</th>
      <th>{% trans %}Apartado{% endtrans %}</th>
      <th>{% trans %}Reservado{% endtrans %}</th>
    </tr>
  </thead>
  
  <tbody>
 </tbody>

 </table>
  
</div>

{% endblock %}
